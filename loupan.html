<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>楼盘信息展示</title>
    <link rel="stylesheet" href="loupan.css">
    <script type="text/javascript">
        window._AMapSecurityConfig = {
            securityJsCode: '2f922f3dfca8c92a9b308bac7f3bd89d',
        }
    </script>
    <script type="text/javascript" src="https://webapi.amap.com/maps?v=2.0&key=ae9e41fad1e95c52601814053f0ad510&plugin=AMap.Scale,AMap.ToolBar,AMap.InfoWindow,AMap.ControlBar"></script>
    <script src="https://cdn.jsdelivr.net/npm/pinyin-pro@3.19.3/umd/index.min.js"></script>
    <script src="utils/draw.js"></script>
    <script src="loupan.js"></script>
</head>
<body>
    <!-- 搜索框：默认搜学校，可切换搜楼盘 -->
    <div id="search-box" class="search-box no-select">
        <div class="search-row">
            <input id="search-input" class="search-input" type="text" placeholder="搜索学校名称" autocomplete="off" />
            <span id="search-toggle" class="search-toggle" title="切换搜索类型">学校</span>
        </div>
        <div id="search-dropdown" class="search-dropdown"></div>
    </div>

    <!-- 地图容器 -->
    <div id="map"></div>

    <!-- 画笔工具栏：保留绘图和清除 -->
    <div id="draw-toolbar">
        <div class="toolbar-buttons">
            <button id="start-draw" class="no-select">开启绘图</button>
            <button id="clear-draw" class="no-select">清除绘图</button>
        </div>
        <div id="color-panel" class="color-panel hidden no-select">
            <div class="color-option selected" data-color="#285FF5" style="background-color: #285FF5;" title="蓝色"></div>
            <div class="color-option" data-color="#FF0000" style="background-color: #FF0000;" title="红色"></div>
            <div class="color-option" data-color="#00FF00" style="background-color: #00FF00;" title="绿色"></div>
            <div class="color-option" data-color="#000000" style="background-color: #252424;" title="黑色"></div>
            <div class="color-option" data-color="#FFFF00" style="background-color: #FFFF00;" title="黄色"></div>
            <div class="color-option" data-color="#FF8C00" style="background-color: #FF8C00;" title="橙色"></div>
            <div class="color-option" data-color="#8A2BE2" style="background-color: #8A2BE2;" title="紫色"></div>
        </div>
    </div>

    <!-- 关闭楼盘范围按钮（查看楼盘多边形时显示） -->
    <button id="close-district-btn" class="no-select" type="button" title="退出楼盘范围">退出楼盘</button>

    <!-- 配套筛选框（进入楼盘后显示，顶部一行） -->
    <div id="filter-panel" class="filter-panel no-select">
        <label class="filter-item"><input type="checkbox" data-type="primary" checked> 小学</label>
        <label class="filter-item"><input type="checkbox" data-type="middle" checked> 中学</label>
        <label class="filter-item"><input type="checkbox" data-type="subway" checked> 地铁</label>
        <label class="filter-item"><input type="checkbox" data-type="commerce" checked> 商业</label>
        <label class="filter-item"><input type="checkbox" data-type="park" checked> 公园</label>
        <label class="filter-item"><input type="checkbox" data-type="hospital"> 医院</label>
        <label class="filter-item"><input type="checkbox" data-type="municipal"> 政府</label>
    </div>

    <!-- Canvas 绘图层 -->
    <canvas id="draw-canvas"></canvas>
</body>
</html>
